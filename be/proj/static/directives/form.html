<div ng-class="{visible: formVisible()}">
  <div class="close-button" ng-click="forceClose=true">x</div>
  <div class="dc-input">
    <form ng-show="!formSubmitted" class="form"
      target="receiver"
      action="//strikedebt.createsend.com/t/j/s/nskul/"
      method="post" ng-submit="onSubmitClick()">

    <input type="text" class="hidden" name="cm-name" ng-model="username" />

    <input type="email" id="email" name="cm-nskul-nskul"  ng-model="email"
        placeholder="enter your email..."
        ng-focus="emailFocus()"
        ng-blur="showForm=false"
        required autocomplete="off" />

    <div class="form-rest" ng-class="{visible: formVisible()}">
      <input type="text"
          ng-model="location"
          ng-focus="showForm=true"
          placeholder="what city?"
          typeahead-editable="false"
          typeahead="city as city.name for city in cities | filter:{name:$viewValue}| limitTo:8 " required>

      <!--<input type="text" ng-model="debtType" placeholder="what kind of debt?"
        ng-class="{muted: mutedValues('debtType')}"
        ng-show="email != null && location != null "
        ng-model-options="{ updateOn: 'blur' }"
        typeahead-editable="false"
        typeahead-on-select="onSelect($item, $model, $label)"
        typeahead="type as type.name for type in types | filter:{name:$viewValue}" required>
      -->

      <input type="text"
        ng-model="amount"
        ng-focus="showForm=true"
        placeholder="how much debt?"
        ng-model-options="{ updateOn: 'blur' }">

        <button type="submit"
          name="submit"
          ng-focus="showForm=true"
          ng-blur="showForm=false"
          class="btn btn-primary">sign up for email updates</button>
    </form>
    </div>
  </div>
</div>
